<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Contributing • workflowr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css"><script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet"><script src="pkgdown.js"></script><meta property="og:title" content="Contributing"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-title-body">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">workflowr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.7.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="articles/wflow-01-getting-started.html">Getting started</a>
</li>
<li>
  <a href="articles/wflow-05-faq.html">FAQ</a>
</li>
<li>
  <a href="articles/index.html">Vignettes</a>
</li>
<li>
  <a href="reference/index.html">Functions</a>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/workflowr/workflowr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>Contributing</h1>
    </div>

<div id="contributing" class="section level1">

<p>Thanks for your interest in contributing to workflowr. Here are some guidelines to help make it easier to merge your Pull Request:</p>
<ul><li>For potentially large changes, please open an Issue first to discuss</li>
<li>Please follow the <a href="http://adv-r.had.co.nz/Style.html" class="external-link">Hadley style guide</a>
</li>
<li>Please run the file <a href="scripts/contribute.R">scripts/contribute.R</a> to check your changes</li>
<li>(Optional) Run <code>devtools::test()</code> to run the tests</li>
<li>(Optional) Add new test(s) in <code>tests/testthat/</code>
</li>
</ul><p>If you’re new to submitting Pull Requests, please read the section <a href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1004668#sec011" class="external-link">Contribute to other projects</a> in the tutorial <a href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1004668" class="external-link">A quick introduction to version control with Git and GitHub</a>.</p>
<div class="section level2">
<h2 id="setup-a-development-environment">Setup a development environment<a class="anchor" aria-label="anchor" href="#setup-a-development-environment"></a></h2>
<p>To contribute to workflowr, follow these steps to setup a development environment:</p>
<ol style="list-style-type: decimal"><li><p>Fork GitHub repository and clone to your local machine</p></li>
<li>
<p>Install dependencies</p>
<pre><code><span><span class="co"># Install package dependencies</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"remotes"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_deps</span><span class="op">(</span>dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Install developlment-only dependencies</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Install local copy of workflowr</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</li>
</ol></div>
<div class="section level2">
<h2 id="more-about-this-repository">More about this repository<a class="anchor" aria-label="anchor" href="#more-about-this-repository"></a></h2>
<p>For the most part, I try to follow the guidelines from <a href="https://r-pkgs.org/" class="external-link">R packages</a> by <a href="http://hadley.nz/" class="external-link">Hadley Wickham</a>. The unit tests are performed with <a href="https://github.com/hadley/testthat" class="external-link">testthat</a>, the documentation is built with <a href="https://github.com/klutometis/roxygen" class="external-link">roxygen2</a>, and the online package documentation is created with <a href="https://github.com/r-lib/pkgdown" class="external-link">pkgdown</a>.</p>
<p>Minimal continuous integration testing is performed by GitHub Actions for each push to the repository. Extensive continuous integration testing is performed at scheduled intervals in <a href="https://github.com/workflowr/workflowr-pkg-tests" class="external-link">workflowr-pkg-tests</a>. Code coverage is calculated with <a href="https://github.com/jimhester/covr" class="external-link">covr</a> and <a href="https://codecov.io/" class="external-link">Codecov</a>. The online package documentation is automatically generated by running pkgdown from GitHub Actions and pushing to the gh-pages branch.</p>
<p>The template files used by <code><a href="reference/wflow_start.html">wflow_start()</a></code> to populate a new project are defined in the list <code>templates</code> in the file <code>R/infrastructure.R</code>. The <a href="https://rstudio.github.io/rstudio-extensions/rstudio_project_templates.html" class="external-link">RStudio project template</a> is configured by <code>inst/rstudio/templates/project/wflow_start.dcf</code>. The repository contains the files <code>LICENSE</code> and <code>LICENSE.md</code> to both adhere to <a href="https://cran.r-project.org/doc/manuals/R-exts.html#Licensing" class="external-link">R package conventions for defining the license</a> and also to make the license clear in a more conventional manner (suggestions for improvement welcome). The directory <code>scripts/</code> contains convenience scripts for maintaining the R package. The remaining directories are standard for R packages as described in the manual <a href="https://cran.r-project.org/doc/manuals/R-exts.html" class="external-link">Writing R Extensions</a>.</p>
</div>
<div class="section level2">
<h2 id="scripts-for-maintaining-the-package">Scripts for maintaining the package<a class="anchor" aria-label="anchor" href="#scripts-for-maintaining-the-package"></a></h2>
<p>Convenience scripts for maintaining the package are located in <code>scripts/</code>. These are not included in the package tarball for distribution. They are all intended to be executed from the root directory of the package. The convenience scripts include:</p>
<ul><li>
<code>build.sh</code> runs <code>R CMD build</code> and <code>R CMD check</code>
</li>
<li>
<code>bump-version.R</code> bumps the version across all the necessary package files</li>
<li>
<code>contribute.R</code> performs some basic checks that should be run before contributing a Pull Request</li>
<li>
<code>document.R</code> regenerates the documentation</li>
<li>
<code>gather-dependencies.R</code> extracts the dependencies from <code>DESCRIPTION</code> to create the vector <code>dependencies</code> in <code>R/zzz.R</code> (which is used to confirm that all the packages that workflowr needs are properly installed)</li>
<li>
<code>sed.sh</code> performs search/replace for all R files in the package</li>
</ul></div>
<div class="section level2">
<h2 id="release-checklist-for-maintainers">Release checklist (for maintainers)<a class="anchor" aria-label="anchor" href="#release-checklist-for-maintainers"></a></h2>
<ul><li><p>Bump version with <a href="scripts/bump-version.R">scripts/bump-version.R</a></p></li>
<li><p>Update <a href="NEWS.html">NEWS.md</a>: Check <code>git log</code> and make sure to reference GitHub Issues/PRs</p></li>
<li><p>Check spelling with <code>spelling::spell_check_package()</code> and update <code>inst/WORDLIST</code> as needed</p></li>
<li><p>Run <a href="scripts/document.R">scripts/document.R</a> to update Rd files, install the package locally, and preview the online documentation with <a href="https://github.com/r-lib/pkgdown" class="external-link">pkgdown</a> (No need to commit <code>docs/</code> because the pkgdown site is rebuilt and deployed automatically by GitHub Pages after each push)</p></li>
<li><p>Run <a href="scripts/build.sh">scripts/build.sh</a> to confirm tests pass locally</p></li>
<li>
<p>Test on <a href="https://win-builder.r-project.org/" class="external-link">winbuilder</a>:</p>
<ul><li>Check with R devel with <code>devtools::check_win_devel()</code>
</li>
</ul></li>
<li><p>Commit with <code>git commit -am "Bump version: x.x.x.x -&gt; x.x.x"</code></p></li>
<li><p>Push with <code>git push origin main</code> and wait for CI builds to pass</p></li>
<li><p>Build tarball with <code>R CMD build .</code> and upload to <a href="https://cran.r-project.org/submit.html" class="external-link">CRAN submission site</a>. You will receive an email to request confirmation, then an email confirming the package was submitted, and then an email with the test results. Once it is accepted to CRAN, monitor the <a href="https://cran.r-project.org/web/checks/check_results_workflowr.html" class="external-link">check results</a> for any surprise errors. Also, these builds are when the binaries are built for Windows and macOS, so they aren’t available until they are finished. You will receive an email once all the Windows binaries are available for download (devel, release, oldrel).</p></li>
<li>
<p>You can monitor the status of the CRAN submission with the <a href="https://cran.r-project.org/package=foghorn" class="external-link">foghorn</a> package:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">foghorn</span><span class="fu">::</span><span class="fu">cran_incoming</span><span class="op">(</span><span class="st">"workflowr"</span><span class="op">)</span></span>
<span><span class="fu">foghorn</span><span class="fu">::</span><span class="fu">cran_details</span><span class="op">(</span><span class="st">"workflowr"</span><span class="op">)</span></span>
<span><span class="fu">foghorn</span><span class="fu">::</span><span class="fu">cran_results</span><span class="op">(</span>pkg <span class="op">=</span> <span class="st">"workflowr"</span><span class="op">)</span></span></code></pre></div>
</li>
<li><p>Tag with <code>git tag -a vx.x.x</code>. Summarize <a href="NEWS.html">NEWS.md</a> entry into bullet points. Run <code>git tag -l -n9</code> for past examples. Push with <code>git push origin --tags</code>.</p></li>
<li><p>Make a release. On GitHub, go to Releases -&gt; Tags -&gt; Edit release notes. Name the release “workflowr x.x.x” and copy-paste the Markdown entry from <a href="NEWS.html">NEWS.md</a>.</p></li>
</ul></div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>



      <footer><div class="copyright">
  <p></p><p>Developed by John Blischak, Peter Carbonetto, Matthew Stephens.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

