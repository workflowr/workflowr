<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Migrating an existing project to use workflowr • workflowr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Migrating an existing project to use workflowr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">workflowr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.7.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../articles/wflow-01-getting-started.html">Getting started</a>
</li>
<li>
  <a href="../articles/wflow-05-faq.html">FAQ</a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/workflowr/workflowr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Migrating an existing project to use
workflowr</h1>
            <h3 data-toc-skip class="subtitle">workflowr version
1.7.2</h3>
                        <h4 data-toc-skip class="author">John
Blischak</h4>
            
            <h4 data-toc-skip class="date">2025-08-02</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/workflowr/workflowr/blob/main/vignettes/wflow-03-migrating.Rmd" class="external-link"><code>vignettes/wflow-03-migrating.Rmd</code></a></small>
      <div class="hidden name"><code>wflow-03-migrating.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette is for those users that already have an existing
project and wish to incorporate workflowr to create a research website.
Migrating an existing project to use workflowr varies from
straightforward to difficult depending on the scenario and your comfort
level with Git. This vignette assumes that you have the background
knowledge of workflowr explained in the <a href="wflow-01-getting-started.html">Getting started</a> vignette. Even
if you have no need for a new workflowr project, please run through that
vignette first as an exercise to familiarize yourself with the workflowr
philosophy and functions.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span><span class="st">"wflow-01-getting-started"</span>, <span class="st">"workflowr"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="scenario-i-have-a-collection-of-r-markdown-files">Scenario: I have a collection of R Markdown files<a class="anchor" aria-label="anchor" href="#scenario-i-have-a-collection-of-r-markdown-files"></a>
</h2>
<p>If you have a collection of R Markdown files, but no version control
or other files, the quickest solution is to use the function
<code><a href="../reference/wflow_quickstart.html">wflow_quickstart()</a></code>. The code below 1) starts a new
workflowr project in <code>~/projects/new-project/</code>, 2) copies the
existing Rmd files in <code>~/projects/misc/</code> to the
<code>analysis/</code> subdirectory of the new project, 3) builds and
commits the website, and 4) configures the project to use GitHub (which
is why the GitHub username is required).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://workflowr.github.io/workflowr/" class="external-link">"workflowr"</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/wflow_quickstart.html">wflow_quickstart</a></span><span class="op">(</span><span class="st">"~/projects/misc/*Rmd"</span>, username <span class="op">=</span> <span class="st">"&lt;github-username&gt;"</span>,</span>
<span>                 directory <span class="op">=</span> <span class="st">"~/projects/new-project/"</span><span class="op">)</span></span></code></pre></div>
<p>Alternatively, you can manually perform each step to migrate your
existing analysis by starting a workflowr project in a new directory and
then moving the R Markdown files to the <code>analysis/</code>
subdirectory. In the hypothetical example below, the original R Markdown
files are located in the directory <code>~/projects/misc/</code> and the
workflowr project will be created in the new directory
<code>~/projects/new-project/</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://workflowr.github.io/workflowr/" class="external-link">"workflowr"</a></span><span class="op">)</span></span>
<span><span class="co"># Create project directory and change working directory to this location</span></span>
<span><span class="fu"><a href="../reference/wflow_start.html">wflow_start</a></span><span class="op">(</span><span class="st">"~/projects/new-project"</span><span class="op">)</span></span>
<span><span class="co"># Copy the files to the analysis subdirectory of the workflowr project</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.glob.html" class="external-link">Sys.glob</a></span><span class="op">(</span><span class="st">"~/projects/misc/*Rmd"</span><span class="op">)</span>, to <span class="op">=</span> <span class="st">"analysis"</span><span class="op">)</span></span></code></pre></div>
<p>Next run <code><a href="../reference/wflow_build.html">wflow_build()</a></code> to see if your files run without
error. Lastly, build and commit the website using
<code><a href="../reference/wflow_publish.html">wflow_publish()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/wflow_publish.html">wflow_publish</a></span><span class="op">(</span><span class="st">"analysis/*Rmd"</span>, <span class="st">"Publish analysis files"</span><span class="op">)</span></span></code></pre></div>
<p>When you are ready to share the results online, you can run
<code><a href="../reference/wflow_use_github.html">wflow_use_github()</a></code> or <code><a href="../reference/wflow_use_gitlab.html">wflow_use_gitlab()</a></code>.</p>
</div>
<div class="section level2">
<h2 id="scenario-i-have-a-collection-of-r-markdown-files-and-other-project-infrastructure">Scenario: I have a collection of R Markdown files and other project
infrastructure<a class="anchor" aria-label="anchor" href="#scenario-i-have-a-collection-of-r-markdown-files-and-other-project-infrastructure"></a>
</h2>
<p>If your project already has lots of infrastructure, it is most
convenient to add the workflowr files directory to your already existing
directory. This is controlled with the argument <code>existing</code>.
In the hypothetical example below, the existing project is located at
<code>~/projects/mature-project/</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://workflowr.github.io/workflowr/" class="external-link">"workflowr"</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/wflow_start.html">wflow_start</a></span><span class="op">(</span><span class="st">"~/projects/mature-project"</span>, existing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>The above command will add the workflowr files to your existing
project and also commit them to version control (it will initialize a
Git repo if it doesn’t already exist). If you’d prefer to not use
version control for your project or you’d prefer to commit the workflowr
files yourself manually, you can set <code>git = FALSE</code> (this is
also useful if you want to first test to see what would happen without
committing the results).</p>
<p>By default <code><a href="../reference/wflow_start.html">wflow_start()</a></code> will not overwrite your
existing files (e.g. if you already have a <code>README.md</code>). If
you’d prefer to overwrite your files with the default workflowr files,
set <code>overwrite = TRUE</code>.</p>
<p>To add your R Markdown files to the research website, you can move
them to the subdirectory <code>analysis/</code> (note you can do this
before or after running <code><a href="../reference/wflow_start.html">wflow_start()</a></code>).</p>
<p>Next run <code><a href="../reference/wflow_build.html">wflow_build()</a></code> to see if your files run without
error. Lastly, build and commit the website using
<code><a href="../reference/wflow_publish.html">wflow_publish()</a></code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/wflow_publish.html">wflow_publish</a></span><span class="op">(</span><span class="st">"analysis/*Rmd"</span>, <span class="st">"Publish analysis files"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="scenario-i-have-an-r-package">Scenario: I have an R package<a class="anchor" aria-label="anchor" href="#scenario-i-have-an-r-package"></a>
</h2>
<p>If your project is organized as an R package, you can still add a
website using workflowr. In the hypothetical example below, the existing
package is located at <code>~/projects/my-package/</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://workflowr.github.io/workflowr/" class="external-link">"workflowr"</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/wflow_start.html">wflow_start</a></span><span class="op">(</span><span class="st">"~/projects/my-package"</span>, existing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>The above command will add the workflowr files to your existing
project and also commit them to version control (it will initialize a
Git repo if it doesn’t already exist). If you’d prefer to not use
version control for your project or you’d prefer to commit the workflowr
files yourself manually, you can set <code>git = FALSE</code> (this is
also useful if you want to first test to see what would happen without
committing the results).</p>
<p>You’ll want R to ignore the workflowr directories when building the R
package. Thus add the following to the <code>.Rbuildignore</code>
file:</p>
<pre><code>^analysis$
^docs$
^data$
^code$
^output$
^_workflowr.yml$</code></pre>
<p>Furthermore, to prevent R from compressing the files in
<code>data/</code> (which is harmless but time-consuming), you can set
<code>LazyData: false</code> in the file <code>DESCRIPTION</code>.
However, if you do want to distribute data files with your R package,
you’ll need to instead rename the workflowr subdirectory and update the
R Markdown files to search for files in the updated directory name (and
also update <code>.Rbuildignore</code> to ignore this new directory and
not <code>data/</code>). Then you can save the data files to distribute
with the package in <code>data/</code>. For more details, see the
relevant sections in the CRAN manual <a href="https://cran.r-project.org/doc/manuals/r-release/R-exts.html#Data-in-packages" class="external-link">Writing
R Extensions</a> and Hadley’s <a href="https://r-pkgs.org/data.html" class="external-link">R
Packages</a>.</p>
<p>If your primary purpose for creating a website to accompany your
package is to share the package documentation, please check out the
package <a href="https://github.com/r-lib/pkgdown" class="external-link">pkgdown</a>. It
creates a website from the vignettes and function documentation files
(i.e. the Rd files in <code>man/</code>). In contrast, if the purpose of
the website is to demonstrate results you obtained using the package,
use workflowr.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by John Blischak, Peter Carbonetto, Matthew Stephens.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer>
</div>






  </body>
</html>
