<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Commit files — wflow_commit • workflowr</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">workflowr</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../articles/wflow-01-getting-started.html">Getting started</a>
</li>
<li>
  <a href="../articles/wflow-05-faq.html">FAQ</a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jdblischak/workflowr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Commit files</h1>
    </div>

    
    <p><code>wflow_commit</code> adds and commits files with Git. This is a convenience
function to run Git commands from the R console instead of the shell. For
most use cases, you should use <code><a href='wflow_publish.html'>wflow_publish</a></code> instead, which
calls <code>wflow_commit</code> and then subsequently also builds and commits the
website files.</p>
    

    <pre class="usage"><span class='fu'>wflow_commit</span>(<span class='kw'>files</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>message</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>all</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>force</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>dry_run</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>project</span> <span class='kw'>=</span> <span class='st'>"."</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>files</th>
      <td><p>character (default: NULL). Files to be added and committed with
Git. Supports file
<a href = 'https://en.wikipedia.org/wiki/Glob_(programming)'>globbing</a>.</p></td>
    </tr>
    <tr>
      <th>message</th>
      <td><p>character (default: NULL). A commit message.</p></td>
    </tr>
    <tr>
      <th>all</th>
      <td><p>logical (default: FALSE). Automatically stage files that have been
modified and deleted. Equivalent to: <code>git commit -a</code></p></td>
    </tr>
    <tr>
      <th>force</th>
      <td><p>logical (default: FALSE). Allow adding otherwise ignored files.
Equivalent to: <code>git add -f</code></p></td>
    </tr>
    <tr>
      <th>dry_run</th>
      <td><p>logical (default: FALSE). Preview the proposed action but do
not actually add or commit any files.</p></td>
    </tr>
    <tr>
      <th>project</th>
      <td><p>character (default: ".") By default the function assumes the
current working directory is within the project. If this is not true,
you'll need to provide the path to the project directory.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code>wflow_commit</code>, which is a list with the
  following elements:</p><ul>
<li><p><b>files</b>: The input argument <code>files</code>.</p></li>
<li><p><b>message</b>: The message describing the commit.</p></li>
<li><p><b>all</b>: The input argument <code>all</code>.</p></li>
<li><p><b>force</b>: The input argument <code>force</code>.</p></li>
<li><p><b>dry_run</b>: The input argument <code>dry_run</code>.</p></li>
<li><p><b>commit</b>: The <code><a href='http://www.rdocumentation.org/packages/git2r/topics/git_commit-class'>git_commit-class</a></code> object
returned by git2r (only included if <code>dry_run == FALSE</code>).</p></li>
<li><p><b>commit_files</b>: The relative path(s) to the file(s) included in
the commit (only included if <code>dry_run == FALSE</code>).</p></li>
</ul>

    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Some potential use cases for <code>wflow_commit</code>:</p><ul>
<li><p>Commit drafts which you do not yet want to be included in the website</p></li>
<li><p>Commit files which do not directly affect the website (e.g. when you
are writing scripts for a data processing pipeline)</p></li>
<li><p>Manually commit files in <code>docs/</code> (proceed with caution!). This
should only be done for content that is not automatically generated from the
source files in the analysis directory, e.g. an image file you want to
include in one of your pages.</p></li>
</ul>
    <p>Under the hood, <code>wflow_commit</code> is a wrapper for <code><a href='http://www.rdocumentation.org/packages/git2r/topics/add-methods'>add</a></code>
and <code><a href='http://www.rdocumentation.org/packages/git2r/topics/commit-methods'>commit</a></code> from the package git2r.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='wflow_publish.html'>wflow_publish</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>not_run</span>({

  <span class='co'># Commit a single file</span>
  <span class='fu'>wflow_commit</span>(<span class='st'>"analysis/file.Rmd"</span>, <span class='st'>"Add new analysis"</span>)
  <span class='co'># Commit multiple files</span>
  <span class='fu'>wflow_commit</span>(<span class='fu'>c</span>(<span class='st'>"code/process-data.sh"</span>, <span class='st'>"output/small-data.txt"</span>),
               <span class='st'>"Process data set"</span>)
  <span class='co'># Add and commit all tracked files, similar to `git commit -a`</span>
  <span class='fu'>wflow_commit</span>(<span class='kw'>message</span> <span class='kw'>=</span> <span class='st'>"Lots of changes"</span>, <span class='kw'>all</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
})</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by John Blischak, Peter Carbonetto, Matthew Stephens.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
