<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Commit files — wflow_git_commit • workflowr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Commit files — wflow_git_commit"><meta property="og:description" content="wflow_git_commit adds and commits files with Git. This is a convenience
function to run Git commands from the R console instead of the shell. For
most use cases, you should use wflow_publish instead, which
calls wflow_git_commit and then subsequently also builds and commits the
website files."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">workflowr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.7.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../articles/wflow-01-getting-started.html">Getting started</a>
</li>
<li>
  <a href="../articles/wflow-05-faq.html">FAQ</a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/workflowr/workflowr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Commit files</h1>
    <small class="dont-index">Source: <a href="https://github.com/workflowr/workflowr/blob/main/R/wflow_git_commit.R" class="external-link"><code>R/wflow_git_commit.R</code></a></small>
    <div class="hidden name"><code>wflow_git_commit.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>wflow_git_commit</code> adds and commits files with Git. This is a convenience
function to run Git commands from the R console instead of the shell. For
most use cases, you should use <code><a href="wflow_publish.html">wflow_publish</a></code> instead, which
calls <code>wflow_git_commit</code> and then subsequently also builds and commits the
website files.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">wflow_git_commit</span><span class="op">(</span></span>
<span>  files <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  message <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  all <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  force <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  dry_run <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  project <span class="op">=</span> <span class="st">"."</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-files">files<a class="anchor" aria-label="anchor" href="#arg-files"></a></dt>
<dd><p>character (default: NULL). Files to be added and committed with
Git. Supports file
<a href="https://en.wikipedia.org/wiki/Glob_(programming)" class="external-link">globbing</a>.</p></dd>


<dt id="arg-message">message<a class="anchor" aria-label="anchor" href="#arg-message"></a></dt>
<dd><p>character (default: NULL). A commit message.</p></dd>


<dt id="arg-all">all<a class="anchor" aria-label="anchor" href="#arg-all"></a></dt>
<dd><p>logical (default: FALSE). Automatically stage files that have been
modified and deleted. Equivalent to: <code>git commit -a</code></p></dd>


<dt id="arg-force">force<a class="anchor" aria-label="anchor" href="#arg-force"></a></dt>
<dd><p>logical (default: FALSE). Allow adding otherwise ignored files.
Equivalent to: <code>git add -f</code></p></dd>


<dt id="arg-dry-run">dry_run<a class="anchor" aria-label="anchor" href="#arg-dry-run"></a></dt>
<dd><p>logical (default: FALSE). Preview the proposed action but do
not actually add or commit any files.</p></dd>


<dt id="arg-project">project<a class="anchor" aria-label="anchor" href="#arg-project"></a></dt>
<dd><p>character (default: ".") By default the function assumes the
current working directory is within the project. If this is not true,
you'll need to provide the path to the project directory.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>An object of class <code>wflow_git_commit</code>, which is a list with the
  following elements:</p>
<ul><li><p><b>files</b>: The input argument <code>files</code>.</p></li>
<li><p><b>message</b>: The message describing the commit.</p></li>
<li><p><b>all</b>: The input argument <code>all</code>.</p></li>
<li><p><b>force</b>: The input argument <code>force</code>.</p></li>
<li><p><b>dry_run</b>: The input argument <code>dry_run</code>.</p></li>
<li><p><b>commit</b>: The object returned by
<a href="https://docs.ropensci.org/git2r/reference/git2r.html" class="external-link">git2r</a>::<code><a href="https://docs.ropensci.org/git2r/reference/commit.html" class="external-link">commit</a></code> (only included if <code>dry_run ==
FALSE</code>).</p></li>
<li><p><b>commit_files</b>: The relative path(s) to the file(s) included in
the commit (only included if <code>dry_run == FALSE</code>).</p></li>
</ul></div>
    <div id="details">
    <h2>Details</h2>
    <p>Some potential use cases for <code>wflow_git_commit</code>:</p>
<ul><li><p>Commit drafts which you do not yet want to be included in the website</p></li>
<li><p>Commit files which do not directly affect the website (e.g. when you
are writing scripts for a data processing pipeline)</p></li>
<li><p>Manually commit files in <code>docs/</code> (proceed with caution!). This
should only be done for content that is not automatically generated from the
source files in the analysis directory, e.g. an image file you want to
include in one of your pages.</p></li>
</ul><p>Under the hood, <code>wflow_git_commit</code> is a wrapper for <code><a href="https://docs.ropensci.org/git2r/reference/add.html" class="external-link">add</a></code>
and <code><a href="https://docs.ropensci.org/git2r/reference/commit.html" class="external-link">commit</a></code> from the package <a href="https://docs.ropensci.org/git2r/reference/git2r.html" class="external-link">git2r</a>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="wflow_publish.html">wflow_publish</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Commit a single file</span></span></span>
<span class="r-in"><span><span class="fu">wflow_git_commit</span><span class="op">(</span><span class="st">"analysis/file.Rmd"</span>, <span class="st">"Add new analysis"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Commit multiple files</span></span></span>
<span class="r-in"><span><span class="fu">wflow_git_commit</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"code/process-data.sh"</span>, <span class="st">"output/small-data.txt"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>             <span class="st">"Process data set"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Add and commit all tracked files, similar to `git commit -a`</span></span></span>
<span class="r-in"><span><span class="fu">wflow_git_commit</span><span class="op">(</span>message <span class="op">=</span> <span class="st">"Lots of changes"</span>, all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by John Blischak, Peter Carbonetto, Matthew Stephens.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

