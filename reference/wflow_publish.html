<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Publish the site — wflow_publish • workflowr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Publish the site — wflow_publish"><meta property="og:description" content="wflow_publish is the main workflowr function. Use it when you are
ready to publish an analysis to your site. wflow_publish performs
three steps: 1) commit the file(s) (can include both Rmd and non-Rmd files,
e.g. _site.yml), 2) rebuild the R Markdown file(s), 3) commit the
generated website file(s). These steps ensure that the version of the HTML
file is created by the latest version of the R Markdown file, which is
critical for reproducibility."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">workflowr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.7.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../articles/wflow-01-getting-started.html">Getting started</a>
</li>
<li>
  <a href="../articles/wflow-05-faq.html">FAQ</a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/workflowr/workflowr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Publish the site</h1>
    <small class="dont-index">Source: <a href="https://github.com/workflowr/workflowr/blob/main/R/wflow_publish.R" class="external-link"><code>R/wflow_publish.R</code></a></small>
    <div class="hidden name"><code>wflow_publish.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>wflow_publish</code> is the main workflowr function. Use it when you are
ready to publish an analysis to your site. <code>wflow_publish</code> performs
three steps: 1) commit the file(s) (can include both Rmd and non-Rmd files,
e.g. <code>_site.yml</code>), 2) rebuild the R Markdown file(s), 3) commit the
generated website file(s). These steps ensure that the version of the HTML
file is created by the latest version of the R Markdown file, which is
critical for reproducibility.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">wflow_publish</span><span class="op">(</span></span>
<span>  files <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  message <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  all <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  force <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  update <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  republish <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  combine <span class="op">=</span> <span class="st">"or"</span>,</span>
<span>  view <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"workflowr.view"</span><span class="op">)</span>,</span>
<span>  delete_cache <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">12345</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  dry_run <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  project <span class="op">=</span> <span class="st">"."</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-files">files<a class="anchor" aria-label="anchor" href="#arg-files"></a></dt>
<dd><p>character (default: NULL). R Markdown files and other files to
be added and committed with Git (step 1). Any R Markdown files will also be
built (step 2) and their output HTML and figures will be subsequently
committed (step 3). Supports file
<a href="https://en.wikipedia.org/wiki/Glob_(programming)" class="external-link">globbing</a>.
The files are always built in the order they are listed.</p></dd>


<dt id="arg-message">message<a class="anchor" aria-label="anchor" href="#arg-message"></a></dt>
<dd><p>character (default: NULL). A commit message.</p></dd>


<dt id="arg-all">all<a class="anchor" aria-label="anchor" href="#arg-all"></a></dt>
<dd><p>logical (default: FALSE). Automatically stage files that have been
modified and deleted. Equivalent to: <code>git commit -a</code></p></dd>


<dt id="arg-force">force<a class="anchor" aria-label="anchor" href="#arg-force"></a></dt>
<dd><p>logical (default: FALSE). Allow adding otherwise ignored files.
Equivalent to: <code>git add -f</code></p></dd>


<dt id="arg-update">update<a class="anchor" aria-label="anchor" href="#arg-update"></a></dt>
<dd><p>logical (default: FALSE). Build any files that have been
committed more recently than their corresponding HTML files (and do not
have any unstaged or staged changes). This ensures that the commit version
ID inserted into the HTML corresponds to the exact version of the source
file that was used to produce it.</p></dd>


<dt id="arg-republish">republish<a class="anchor" aria-label="anchor" href="#arg-republish"></a></dt>
<dd><p>logical (default: FALSE). Build all published R Markdown
files (that do not have any unstaged or staged changes). Useful for
site-wide changes like updating the theme, navigation bar, or any other
setting in <code>_site.yml</code>.</p></dd>


<dt id="arg-combine">combine<a class="anchor" aria-label="anchor" href="#arg-combine"></a></dt>
<dd><p>character (default: <code>"or"</code>). Determine how to combine the
files from the arguments <code>files</code>, <code>make</code> (<code><a href="wflow_build.html">wflow_build()</a></code>
only), <code>update</code>, and <code>republish</code>. When <code>combine</code> is
<code>"or"</code>, any file specified by at least one of these arguments will be
built. When <code>combine</code> is <code>"and"</code>, only files specified by all of
these arguments will be built.</p></dd>


<dt id="arg-view">view<a class="anchor" aria-label="anchor" href="#arg-view"></a></dt>
<dd><p>logical (default: <code>getOption("workflowr.view")</code>). View the
website with <code><a href="wflow_view.html">wflow_view</a></code> after building files. If only one
file is built, it is opened. If more than one file is built, the main index
page is opened. Not applicable if no files are built or if <code>dry_run =
TRUE</code>.</p></dd>


<dt id="arg-delete-cache">delete_cache<a class="anchor" aria-label="anchor" href="#arg-delete-cache"></a></dt>
<dd><p>logical (default: FALSE). Delete the cache directory (if
it exists) for each R Markdown file prior to building it.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>numeric (default: 12345). The seed to set before building each
file. Passed to <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></code>. <b>DEPRECATED:</b> The seed set
here has no effect if you are using <code><a href="wflow_html.html">wflow_html</a></code> as the output
format defined in <code>_site.yml</code>. This argument is for backwards
compatibility with previous versions of workflowr.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>logical (default: FALSE). Display the build log directly in
the R console as each file is built. This is useful for monitoring
long-running code chunks.</p></dd>


<dt id="arg-dry-run">dry_run<a class="anchor" aria-label="anchor" href="#arg-dry-run"></a></dt>
<dd><p>logical (default: FALSE). Preview the proposed action but do
not actually add or commit any files.</p></dd>


<dt id="arg-project">project<a class="anchor" aria-label="anchor" href="#arg-project"></a></dt>
<dd><p>character (default: ".") By default the function assumes the
current working directory is within the project. If this is not true,
you'll need to provide the path to the project directory.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Returns an object of class <code>wflow_publish</code>, which is a list with
  the following elements:</p>
<p></p><ul><li><p><b>step1</b>: An object of class <code>wflow_git_commit</code> from the first
  step of committing the files.</p></li>
<li><p><b>step2</b>: An object of class <code>wflow_build</code> from the second
  step of building the HTML files.</p></li>
<li><p><b>step3</b>: An object of class <code>wflow_git_commit</code> from the third
  step of committing the HTML files.</p></li>
</ul></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="wflow_git_commit.html">wflow_git_commit</a></code>, <code><a href="wflow_build.html">wflow_build</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># single file</span></span></span>
<span class="r-in"><span><span class="fu">wflow_publish</span><span class="op">(</span><span class="st">"analysis/file.Rmd"</span>, <span class="st">"Informative commit message"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># All tracked files that have been edited</span></span></span>
<span class="r-in"><span><span class="fu">wflow_publish</span><span class="op">(</span>all <span class="op">=</span> <span class="cn">TRUE</span>, message <span class="op">=</span> <span class="st">"Informative commit message"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># A new file plus all tracked files that have been edited</span></span></span>
<span class="r-in"><span><span class="fu">wflow_publish</span><span class="op">(</span><span class="st">"analysis/file.Rmd"</span>, <span class="st">"Informative commit message"</span>, all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Multiple files</span></span></span>
<span class="r-in"><span><span class="fu">wflow_publish</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"analysis/file.Rmd"</span>, <span class="st">"analysis/another.Rmd"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>              <span class="st">"Informative commit message"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># All R Markdown files that start with the pattern "new_"</span></span></span>
<span class="r-in"><span><span class="fu">wflow_publish</span><span class="op">(</span><span class="st">"analysis/new_*Rmd"</span>, <span class="st">"Informative commit message"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Republish all published files even though they haven't been modified.</span></span></span>
<span class="r-in"><span><span class="co"># Useful for changing some universal aspect of the site, e.g. the theme</span></span></span>
<span class="r-in"><span><span class="co"># specified in _site.yml.</span></span></span>
<span class="r-in"><span><span class="fu">wflow_publish</span><span class="op">(</span><span class="st">"analysis/_site.yml"</span>, <span class="st">"Informative commit message"</span>,</span></span>
<span class="r-in"><span>              republish <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Publish all previously published files that have been committed more</span></span></span>
<span class="r-in"><span><span class="co"># recently than their corresponding HTML files. This is useful if you like to</span></span></span>
<span class="r-in"><span><span class="co"># manually commit your R Markdown files.</span></span></span>
<span class="r-in"><span><span class="fu">wflow_publish</span><span class="op">(</span>update <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by John Blischak, Peter Carbonetto, Matthew Stephens.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

